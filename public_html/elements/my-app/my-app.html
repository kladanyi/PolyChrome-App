<dom-module id="my-app">
    <style is="custom-style">
        #drawerToolbar {
            color: var(--secondary-text-color);
            background-color: var(--drawer-menu-color);
            border-bottom: var(--drawer-toolbar-border-color);
            height: 64px;
        }
        /deep/ #drawer.paper-drawer-panel > [drawer] {
            border-right: 1px solid rgba(0, 0, 0, 0.14);
        }

        paper-menu iron-icon {
            margin-right: 33px;
            opacity: 0.54;
        }

        paper-menu a {
            text-decoration: none;
            color: var(--menu-link-color);
            display: -ms-flexbox;
            display: -webkit-flex;
            display: flex;
            -ms-flex-direction: row;
            -webkit-flex-direction: row;
            flex-direction: row;
            -ms-flex-align: center;
            -webkit-align-items: center;
            align-items: center;
            font-family: 'Roboto', 'Noto', sans-serif;
            -webkit-font-smoothing: antialiased;
            text-rendering: optimizeLegibility;
            font-size: 14px;
            font-weight: 400;
            line-height: 24px;
            min-height: 48px;
            padding: 0 16px;
        }

        [drawer] paper-menu .iron-selected {
            color: var(--default-primary-color);
        }

        #mainToolbar .app-name {
            margin-left: 36px;
            font-size: 20px;
        }

        @media (max-width: 640px) {
            #mainToolbar .app-name {
                margin-left: 12px;
                font-size: 16px;
            }
            #paperToggle {
                margin-right: 0;
            }
        }

        #drawerToolbar .menu-title {
            font-size: 20px;
            font-weight: 500;
            line-height: 28px;
        }
    </style>
    <template>
        <fab-element id="appFab" icon="attachment" click-fn="[[fabclick]]"></fab-element>
        <span>{{fab}}</span>
        <span>{{fabclick}}</span>

        <paper-drawer-panel id="paperDrawerPanel" class="flex layout vertical">
            <div drawer>
                <!-- Drawer Toolbar -->
                <paper-toolbar id="drawerToolbar">
                    <span class="menu-title">Menü</span>
                </paper-toolbar>

                <!-- Drawer Content -->
                <paper-menu class="list" attr-for-selected="data-route" selected="{{route}}" on-iron-select="onMenuSelect">
                    <a data-route="home" href="/">
                        <iron-icon icon="home"></iron-icon>
                        <span>Kezdőlap</span>
                    </a>

                    <a data-route="users" href="/users">
                        <iron-icon icon="info"></iron-icon>
                        <span>Felhasználók</span>
                    </a>

                    <a data-route="contact" href="/contact">
                        <iron-icon icon="mail"></iron-icon>
                        <span>Kapcsolat</span>
                    </a>
                </paper-menu>
            </div>
            <div main>
                <toast-service id="toast-service"></toast-service>
                <fab-container id="fab-container"></fab-container>
                <paper-header-panel mode="seamed" class="fullbleed layout vertical">
                    <!-- Main Toolbar -->
                    <paper-toolbar id="mainToolbar">
                        <paper-icon-button id="paperToggle" icon="menu" paper-drawer-toggle></paper-icon-button>

                        <!-- Application name -->
                        <div class="app-name">PolyChrome App</div>
                        <span class="flex"></span>

                        <!--Toolbar icons--> 
                        <paper-icon-button icon="refresh"></paper-icon-button>
                        <paper-icon-button icon="social:person"></paper-icon-button>

                    </paper-toolbar>

                    <!-- Main Content -->
                    <div class="content" class="flex">
                        <iron-pages attr-for-selected="data-route" selected="{{route}}">

                            <section data-route="home">
                                <span>{{}}</span>
                                <paper-material elevation="1" class="card">
                                    <content-3></content-3>
                                </paper-material>
                                <paper-material elevation="1" class="card">
                                    <content-2></content-2>
                                </paper-material>
                                <paper-material elevation="1" class="card">
                                    <content-1></content-1>
                                </paper-material>
                            </section>

                            <section data-route="users">
                                <paper-material elevation="1" class="card">
                                    <h2 class="paper-font-display2">Users</h2>
                                    <p>This is the users section</p>
                                    <a href="/users/Rob">Rob</a>
                                </paper-material>
                            </section>

                            <section data-route="user-info">
                                <paper-material elevation="1" class="card">
                                    <h2 class="paper-font-display2">
                                        User:<span>{{params.name}}</span>
                                    </h2>
                                    <div>This is <span>{{params.name}}</span>'s section</div>
                                </paper-material>
                            </section>

                            <section data-route="contact">
                                <paper-material elevation="1" class="card">
                                    <h2 class="paper-font-display2">Contact</h2>
                                    <p>This is the contact section</p>
                                </paper-material>
                            </section>

                        </iron-pages>
                    </div>
                </paper-header-panel>
            </div>
        </paper-drawer-panel>
    </template>
</dom-module>
<script>
    (function () {
        Polymer({
            is: 'my-app',
            behaviors: [ToastBehavior],
            properties: {
                route: {
                    type: String,
                    value: 'home'
                },
                fabclick: {
                    type: Object,
                    value: function () {
                        return function () {
                            ToastBehavior.addToast('my-app elején elhelyezett fab-element.');
                        };
                    }
                }
            },
            ready: function () {
                console.log('MyApp is ready.');
            }
        });
    })();
</script>
